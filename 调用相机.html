<!DOCTYPE html>
	<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML5页面如何在手机端浏览器调用相机、相册功能</title>
    <script type="text/javascript" src="./js/jquery-3.1.1.min.js"></script>
</head>
<style>
	button {
		font-size: 60px;
	}

	.wrap {
		margin: 100px;
	}
</style>
<body>
<div class="wrap">
    <input id="camera" type="file" accept="image/*" capture="camera" style="display: none;">
    <button class="take-camera">拍照</button>
    <input id="image" type="file" accept="image/jpeg,image/gif,image/jpg,image/png" style="display: none;">
    <button class="take-image">相册</button>
    <img id="placeImg">
</div>

</body>
<script type="text/javascript">
    /*eslint-disable */
    $('.take-camera').on('click', function() {
    	$("#camera").click();
    });

    $('.take-image').on('click', function() {
    	$("#image").click();
    });

    $('#camera, #image').on('change', function(event) {
    	var files = event.target.files,
    		file;
    	alert(files);
    	if (files && files.length > 0) {
    		file = files[0];
    		try {
    			var URL = window.URL || window.webkitURL;
    			var blob = URL.createObjectURL(file);　　 // 获取照片的文件流
    			// compressPicture(blob);　　 // 压缩照片
    			$('#placeImg').attr("src", blob);
    		} catch (e) {
    			try {
    				var fileReader = new FileReader();
    				fileReader.onload = function(event) {　　　　 // 获取照片的base64编码
    					// compressPicture(event.target.result);　　 // 压缩照片
    					$('#placeImg').attr("src", event.target.result);
    				};
    				fileReader.readAsDataURL(file);
    			} catch (e) {
    				alert(common.MESSAGE.title.error, '拍照失败,请联系客服或尝试更换手机再试!');
    			}
    		}
    	}
    });
</script>
</html>